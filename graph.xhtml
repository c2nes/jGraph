<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:svg="http://www.w3.org/2000/svg">
  <head>
    <title>Graph Editor</title>
    <script type="text/javascript" src="graph.js"></script>
    <style type="text/css">
      table th {
        text-align: left;
      }
      
      #controls {
        width: 100%;
        padding: 0;
        margin: 0;
      }

      #controls td {
        margin: 0;
        padding: 0;
      }

      #controls tr {
        margin: 0;
        padding: 0;
      }

      #controls input {
        background-color: #ddddff;
        border: none;
        border-right: solid 1px black;
        padding: 5px;
        margin: 0;
      }

      #controls input#dummy-button {
        background-color: white;
        border: none;
        border-right: none;
        padding: 0;
        margin: 0;
        width: 0;
      }
    </style>
  </head>

  <body onload="init();">

    <div style="width: 80%; margin-left: auto; margin-right: auto;">
      <div style="text-align: center;">
        <h1>Make a graph!</h1>
        
        <div id="dashboard" style="border: solid 1px black; width: 100%">
          <div id="display-cont" style="border-bottom: solid 1px black; height: 400px; width: 100%;">
            <svg:svg version="1.1" id="display" width="100%" height="100%" style="clear: left" >
              <svg:rect width="100%" height="100%" fill="white" />
              <svg:mask id="vertices-mask">
                <svg:rect width="100%" height="100%" fill="white" />
              </svg:mask>
              <svg:g id="edges" mask="url(#vertices-mask)"></svg:g>
              <svg:g id="vertices"></svg:g>
            </svg:svg>
          </div>
          <table id="controls" cellspacing="0" cellpadding="0">
            <tr>
              <td style="text-align:left;">
                <form action="#">
                  <input type="button" onmouseup="removeAllVertices();" value="Clear" /><input type="button" onmouseup="optimizeGraph();" value="Optimize" />
                  <input type="button" id="dummy-button" value=""  />
                </form>
              </td>
              <td id="status" style="text-align: right; padding-right: 10px;"></td>
            </tr>
          </table>
        </div>
      </div>

      <div style="margin-top: 10px;">
        <div id="info" style="width: 60%; float: left;">
          <div id="info-e" style="display:none;" >
            Mode: <strong>Add/remove edges</strong>
            <p>To add an edge select a starting node followed by an ending node. To remove an edge click an edge will holding 'shift'.</p>
          </div>
          <div id="info-v" style="display:none;" >
            Mode: <strong>Add/remove/move vertices</strong>
            <p>Click in empty space to add a new vertex, click and drag an existing vertex to move it, or click a vertex while holding 'shift' to remove it</p>
          </div>
          <div id="info-l" style="display:none;" >
            Mode: <strong>Label vertices</strong>
            <p>Select a vertex to label it</p>
          </div>
        </div>
        <div id="instructions" style="text-align: right;">
          <table style="margin-left: auto;">
            <tr><th>v</th><td>Switch to vertex mode</td></tr>
            <tr><th>e</th><td>Switch to edge mode</td></tr>
            <tr><th>l</th><td>Switch to labeling mode</td></tr>
            <tr><th>c</th><td>Take the complement of the graph</td></tr>
            <tr><th>R</th><td>Remove all edges</td></tr>
            <tr><th>P</th><td>Arrange vertices into a polygon</td></tr>
          </table>
        </div>
      </div>
    </div>
  </body>

</html>

